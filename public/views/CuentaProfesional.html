<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Mi Cuenta Profesional - Home-Connect</title>
    <script src="../scripts/cuentaProfesional.js"></script>
    <link rel="stylesheet" href="../styles/styles.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://kit.fontawesome.com/07b7b4af07.js" crossorigin="anonymous"></script>
</head>

<body>
    <!-- NAVBAR -->
    <nav class="navbar navbar-expand-sm navbar-dark" id="navbar-principal">
        <div class="container-fluid">
            <ul class="navbar-nav">
                <li class="logo-navbar">
                    <a class="nav-link" href="/home-profesional" id="logo">Home-Connect</a>
                </li>
            </ul>
            <ul class="navbar-nav" id="sesion-navbar">
                <li class="nav-item">
                    <a class="nav-link" href="/cuenta-profesional" style="color:white;">
                        <i class="fa-solid fa-user" style="color:white;"></i> Cuenta
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/InicioSesion" style="color:white;">
                        <button class="btn btn-light" style="shape-margin: 10px;" id="registrarse">Cerrar
                            Sesion</button>
                    </a>
                </li>
            </ul>
        </div>
    </nav>

    <!-- ACCOUNT CONTENT -->
    <div class="container" style="padding: 20px; max-width: 900px;">
        <!-- Back Button -->
        <div class="mb-3">
            <a href="/home-profesional" class="btn btn-outline-secondary">
                <i class="fas fa-arrow-left"></i> Volver
            </a>
        </div>

        <!-- Page Title -->
        <div class="text-center mb-4">
            <h1><i class="fas fa-user-circle"></i> Mi Cuenta Profesional</h1>
            <p class="text-muted">Administra tu información personal, profesional y servicios</p>
        </div>

        <!-- Personal Information Section -->
        <div class="card mb-4 Borders">
            <div class="card-header bg-white">
                <h5 class="mb-0"><i class="fas fa-id-card"></i> Información Personal</h5>
            </div>
            <div class="card-body">
                <form id="accountForm">
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="firstName" class="form-label">Nombre</label>
                            <input type="text" class="form-control" id="firstName" disabled>
                        </div>
                        <div class="col-md-6">
                            <label for="lastName" class="form-label">Apellido</label>
                            <input type="text" class="form-control" id="lastName" disabled>
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="email" class="form-label">Correo Electrónico</label>
                        <input type="email" class="form-control" id="email" disabled>
                    </div>

                    <div class="mb-3">
                        <label for="phone" class="form-label">Teléfono</label>
                        <input type="tel" class="form-control" id="phone" disabled>
                    </div>

                </form>
            </div>
        </div>

        <!-- Professional Information Section -->
        <div class="card mb-4 Borders">
            <div class="card-header bg-white">
                <h5 class="mb-0"><i class="fas fa-briefcase"></i> Información Profesional</h5>
            </div>
            <div class="card-body">
                <div class="mb-3">
                    <label for="experience" class="form-label">Años de Experiencia</label>
                    <input type="number" class="form-control" id="experience" disabled>
                </div>

                <div class="mb-3">
                    <label for="description" class="form-label">Descripción</label>
                    <textarea class="form-control" id="description" rows="3" disabled></textarea>
                </div>

                <div class="mb-3">
                    <label class="form-label">Calificación</label>
                    <div>
                        <span class="text-warning" id="rating-stars">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                        </span>
                        <span class="ms-2" id="rating-value">4.5</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Services Section -->
        <div class="card mb-4 Borders">
            <div class="card-header bg-white d-flex justify-content-between align-items-center">
                <h5 class="mb-0"><i class="fas fa-tools"></i> Mis Servicios</h5>
                <button type="button" class="btn btn-sm btn-primary" id="ColorButton" data-bs-toggle="modal"
                    data-bs-target="#addServiceModal">
                    <i class="fas fa-plus"></i> Agregar Servicio
                </button>
            </div>
            <div class="card-body">
                <div id="servicesList">
                    <!-- Services will be loaded here dynamically -->
                </div>
            </div>
        </div>

        <!-- Danger Zone -->
        <div class="card mb-4 border-danger">
            <div class="card-header bg-danger text-white">
                <h5 class="mb-0"><i class="fas fa-exclamation-triangle"></i> Zona Peligrosa</h5>
            </div>
            <div class="card-body">
                <p class="text-muted mb-3">
                    Una vez que elimines tu cuenta, no hay vuelta atrás. Por favor, asegúrate de que realmente quieres
                    hacer esto.
                </p>
                <button type="button" class="btn btn-danger" data-bs-toggle="modal"
                    data-bs-target="#deleteAccountModal">
                    <i class="fas fa-trash-alt"></i> Eliminar Cuenta
                </button>
            </div>
        </div>
    </div>

    <!-- Add/Edit Service Modal -->
    <div class="modal fade" id="addServiceModal" tabindex="-1" aria-labelledby="addServiceModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="addServiceModalLabel">
                        <i class="fas fa-tools"></i> <span id="modalTitle">Agregar Servicio</span>
                    </h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="serviceForm">
                        <input type="hidden" id="serviceId" value="">

                        <div class="mb-3">
                            <label for="serviceName" class="form-label">Nombre del Servicio</label>
                            <input type="text" class="form-control" id="serviceName" required
                                placeholder="Ej. Reparación de tuberías">
                        </div>

                        <div class="mb-3">
                            <label for="serviceDescription" class="form-label">Descripción</label>
                            <textarea class="form-control" id="serviceDescription" rows="3" required
                                placeholder="Describe en qué consiste el servicio"></textarea>
                        </div>

                        <div class="mb-3">
                            <label for="serviceDuration" class="form-label">Duración Estimada</label>
                            <input type="text" class="form-control" id="serviceDuration" required
                                placeholder="Ej. 2 horas">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-primary" id="ColorButton" onclick="saveService()">
                        <i class="fas fa-save"></i> Guardar Servicio
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Delete Account Modal -->
    <div class="modal fade" id="deleteAccountModal" tabindex="-1" aria-labelledby="deleteAccountModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header bg-danger text-white">
                    <h5 class="modal-title" id="deleteAccountModalLabel">
                        <i class="fas fa-exclamation-triangle"></i> Confirmar Eliminación de Cuenta
                    </h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p><strong>¿Estás seguro de que deseas eliminar tu cuenta?</strong></p>
                    <p class="text-muted">Esta acción es permanente y no se puede deshacer. Se eliminarán:</p>
                    <ul class="text-muted">
                        <li>Toda tu información personal y profesional</li>
                        <li>Todos tus servicios registrados</li>
                        <li>Tu historial de trabajos</li>
                        <li>Tus reseñas y calificaciones</li>
                        <li>Tus mensajes y conversaciones</li>
                    </ul>
                    <p class="text-danger"><strong>Esta acción NO se puede revertir.</strong></p>

                    <div class="mb-3">
                        <label for="confirmDelete" class="form-label">
                            Para confirmar, escribe <strong>ELIMINAR</strong> en el campo de abajo:
                        </label>
                        <input type="text" class="form-control" id="confirmDelete"
                            placeholder="Escribe ELIMINAR para confirmar">
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
                    <button type="button" class="btn btn-danger" onclick="confirmDeleteAccount()">
                        <i class="fas fa-trash-alt"></i> Sí, Eliminar Mi Cuenta
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- FOOTER -->
    <footer id="footer-principal">
        <div class="container-fluid" id="DivBotones">
            <h4 style="color: white;">Home-Connect &copy; 2024</h4>
        </div>
    </footer>

</body>

</html>